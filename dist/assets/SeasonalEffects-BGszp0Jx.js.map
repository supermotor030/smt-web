{"version":3,"file":"SeasonalEffects-BGszp0Jx.js","sources":["../../src/components/SeasonalEffects.jsx"],"sourcesContent":["import { useEffect, useState, useMemo } from 'react'\nimport { motion, AnimatePresence } from 'framer-motion'\nimport { useSeasonal } from '../context/SeasonalContext'\nimport useReducedMotion from '../hooks/useReducedMotion'\n\n// Snowfall effect for Christmas/New Year\nfunction Snowfall() {\n  const prefersReducedMotion = useReducedMotion()\n  const isMobile = typeof window !== 'undefined' && window.innerWidth < 768\n  \n  // Fewer snowflakes on mobile for performance\n  const snowflakeCount = isMobile ? 25 : 50\n  \n  const snowflakes = useMemo(() => \n    Array.from({ length: snowflakeCount }, (_, i) => ({\n      id: i,\n      left: Math.random() * 100,\n      delay: Math.random() * 5,\n      duration: 5 + Math.random() * 10,\n      size: isMobile ? (3 + Math.random() * 5) : (4 + Math.random() * 8),\n      opacity: 0.4 + Math.random() * 0.4,\n    })), [snowflakeCount, isMobile])\n\n  if (prefersReducedMotion) return null\n\n  return (\n    <div className=\"fixed inset-0 pointer-events-none z-[60] overflow-hidden\">\n      {snowflakes.map((flake) => (\n        <motion.div\n          key={flake.id}\n          className=\"absolute text-white\"\n          style={{\n            left: `${flake.left}%`,\n            fontSize: flake.size,\n            opacity: flake.opacity,\n          }}\n          initial={{ y: -20, x: 0 }}\n          animate={{\n            y: '100vh',\n            x: [0, 20, -20, 10, 0],\n          }}\n          transition={{\n            y: { duration: flake.duration, repeat: Infinity, delay: flake.delay },\n            x: { duration: flake.duration / 2, repeat: Infinity, delay: flake.delay },\n          }}\n        >\n          ‚ùÑ\n        </motion.div>\n      ))}\n    </div>\n  )\n}\n\n// Fireworks effect for New Year\nfunction Fireworks() {\n  const prefersReducedMotion = useReducedMotion()\n  const [fireworks, setFireworks] = useState([])\n  const isMobile = typeof window !== 'undefined' && window.innerWidth < 768\n\n  useEffect(() => {\n    if (prefersReducedMotion) return\n\n    const createFirework = () => {\n      const id = Date.now() + Math.random()\n      const newFirework = {\n        id,\n        x: 10 + Math.random() * 80,\n        y: 10 + Math.random() * 50,\n        color: ['#ff6b6b', '#ffd700', '#4ecdc4', '#ff5500', '#00ff88', '#ff00ff'][Math.floor(Math.random() * 6)],\n        size: isMobile ? 40 : 60,\n      }\n      \n      setFireworks(prev => [...prev, newFirework])\n      \n      setTimeout(() => {\n        setFireworks(prev => prev.filter(f => f.id !== id))\n      }, 2000)\n    }\n\n    // Create first firework immediately\n    createFirework()\n    \n    // Then create more at intervals (slower on mobile)\n    const intervalTime = isMobile ? 3000 : 1500\n    const interval = setInterval(createFirework, intervalTime)\n    return () => clearInterval(interval)\n  }, [prefersReducedMotion, isMobile])\n\n  if (prefersReducedMotion) return null\n\n  return (\n    <div className=\"fixed inset-0 pointer-events-none z-[60] overflow-hidden\">\n      <AnimatePresence>\n        {fireworks.map((fw) => (\n          <motion.div\n            key={fw.id}\n            className=\"absolute\"\n            style={{ left: `${fw.x}%`, top: `${fw.y}%` }}\n            initial={{ scale: 0, opacity: 1 }}\n            animate={{ scale: 1, opacity: 1 }}\n            exit={{ scale: 1.5, opacity: 0 }}\n            transition={{ duration: 0.3 }}\n          >\n            {/* Firework burst particles */}\n            {[...Array(12)].map((_, i) => (\n              <motion.div\n                key={i}\n                className=\"absolute rounded-full\"\n                style={{ \n                  backgroundColor: fw.color,\n                  width: isMobile ? 4 : 6,\n                  height: isMobile ? 4 : 6,\n                  boxShadow: `0 0 ${isMobile ? 8 : 12}px ${fw.color}`,\n                }}\n                initial={{ x: 0, y: 0, opacity: 1 }}\n                animate={{\n                  x: Math.cos((i * Math.PI * 2) / 12) * fw.size,\n                  y: Math.sin((i * Math.PI * 2) / 12) * fw.size,\n                  opacity: 0,\n                }}\n                transition={{ duration: 1.2, ease: 'easeOut' }}\n              />\n            ))}\n            {/* Inner particles for extra sparkle */}\n            {[...Array(8)].map((_, i) => (\n              <motion.div\n                key={`inner-${i}`}\n                className=\"absolute rounded-full\"\n                style={{ \n                  backgroundColor: '#ffffff',\n                  width: isMobile ? 2 : 3,\n                  height: isMobile ? 2 : 3,\n                  boxShadow: `0 0 6px #ffffff`,\n                }}\n                initial={{ x: 0, y: 0, opacity: 1 }}\n                animate={{\n                  x: Math.cos((i * Math.PI * 2) / 8 + 0.4) * (fw.size * 0.6),\n                  y: Math.sin((i * Math.PI * 2) / 8 + 0.4) * (fw.size * 0.6),\n                  opacity: 0,\n                }}\n                transition={{ duration: 0.8, ease: 'easeOut' }}\n              />\n            ))}\n            {/* Center glow */}\n            <motion.div \n              className=\"absolute rounded-full -translate-x-1/2 -translate-y-1/2\"\n              style={{ \n                backgroundColor: fw.color,\n                width: isMobile ? 8 : 12,\n                height: isMobile ? 8 : 12,\n                boxShadow: `0 0 20px ${fw.color}, 0 0 40px ${fw.color}`,\n              }}\n              initial={{ scale: 1, opacity: 1 }}\n              animate={{ scale: 0, opacity: 0 }}\n              transition={{ duration: 0.5 }}\n            />\n          </motion.div>\n        ))}\n      </AnimatePresence>\n    </div>\n  )\n}\n\n// Floating lanterns for Vesak/Avurudu\nfunction Lanterns() {\n  const prefersReducedMotion = useReducedMotion()\n  const isMobile = typeof window !== 'undefined' && window.innerWidth < 768\n  \n  // Fewer lanterns on mobile\n  const lanternCount = isMobile ? 5 : 8\n  \n  const lanterns = useMemo(() => \n    Array.from({ length: lanternCount }, (_, i) => ({\n      id: i,\n      left: 10 + (i * (80 / lanternCount)),\n      delay: i * 0.5,\n      duration: 8 + Math.random() * 4,\n    })), [lanternCount])\n\n  if (prefersReducedMotion) return null\n\n  return (\n    <div className=\"fixed inset-0 pointer-events-none z-[60] overflow-hidden\">\n      {lanterns.map((lantern) => (\n        <motion.div\n          key={lantern.id}\n          className=\"absolute text-3xl\"\n          style={{ left: `${lantern.left}%` }}\n          initial={{ y: '100vh', opacity: 0.8 }}\n          animate={{ \n            y: '-20vh',\n            x: [0, 15, -15, 10, 0],\n          }}\n          transition={{\n            y: { duration: lantern.duration, repeat: Infinity, delay: lantern.delay },\n            x: { duration: lantern.duration / 2, repeat: Infinity, delay: lantern.delay },\n          }}\n        >\n          üèÆ\n        </motion.div>\n      ))}\n    </div>\n  )\n}\n\n// Main seasonal effects component - visual effects only\nexport default function SeasonalEffects() {\n  const { effects, isHoliday } = useSeasonal()\n  \n  if (!isHoliday) return null\n  \n  return (\n    <>\n      {effects.snowfall && <Snowfall />}\n      {effects.fireworks && <Fireworks />}\n      {effects.lanterns && <Lanterns />}\n    </>\n  )\n}\n\n// Export subcomponents for individual use\nexport { Snowfall, Fireworks, Lanterns }\n"],"names":["Snowfall","prefersReducedMotion","useReducedMotion","isMobile","snowflakeCount","snowflakes","useMemo","_","i","flake","jsx","motion","Fireworks","fireworks","setFireworks","useState","useEffect","createFirework","id","newFirework","prev","f","interval","AnimatePresence","fw","jsxs","Lanterns","lanternCount","lanterns","lantern","SeasonalEffects","effects","isHoliday","useSeasonal","Fragment"],"mappings":"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"}