{"version":3,"file":"MechanicMascot-B3CnMmci.js","sources":["../../src/components/MechanicMascot.jsx"],"sourcesContent":["import { useState, useEffect } from 'react'\nimport { motion, AnimatePresence, useScroll } from 'framer-motion'\nimport { GiSpanner } from 'react-icons/gi'\nimport useMediaQuery from '../hooks/useMediaQuery'\nimport useReducedMotion from '../hooks/useReducedMotion'\n\n// Mechanic mascot states based on scroll and interaction\nconst MASCOT_STATES = {\n  IDLE: 'idle',\n  WAVING: 'waving',\n  WORKING: 'working',\n  EXCITED: 'excited',\n  SLEEPING: 'sleeping',\n}\n\n// Speech bubbles for different sections\nconst SPEECH_BUBBLES = {\n  home: \"Welcome! ðŸ‘‹ Need parts?\",\n  about: \"We've got experience! ðŸ’ª\",\n  products: \"Check out our parts! ðŸ”§\",\n  'why-us': \"Quality guaranteed! â­\",\n  vehicles: \"All brands covered! ðŸš—\",\n  testimonials: \"Happy customers! ðŸ˜Š\",\n  faq: \"Got questions? ðŸ¤”\",\n  contact: \"Let's chat! ðŸ“ž\",\n}\n\nexport default function MechanicMascot() {\n  const [state, setState] = useState(MASCOT_STATES.IDLE)\n  const [speech, setSpeech] = useState('')\n  const [isVisible] = useState(true)\n  const [isMinimized, setIsMinimized] = useState(false)\n  const [idleTime, setIdleTime] = useState(0)\n  \n  const isDesktop = useMediaQuery('(min-width: 1024px)')\n  const prefersReducedMotion = useReducedMotion()\n  useScroll()\n  \n  // Track current section\n  useEffect(() => {\n    const handleScroll = () => {\n      const sections = ['home', 'about', 'products', 'why-us', 'vehicles', 'testimonials', 'faq', 'contact']\n      \n      for (const sectionId of sections.reverse()) {\n        const element = document.getElementById(sectionId)\n        if (element) {\n          const rect = element.getBoundingClientRect()\n          if (rect.top <= 200) {\n            setSpeech(SPEECH_BUBBLES[sectionId])\n            setState(MASCOT_STATES.WORKING)\n            setIdleTime(0)\n            return\n          }\n        }\n      }\n    }\n    \n    window.addEventListener('scroll', handleScroll, { passive: true })\n    return () => window.removeEventListener('scroll', handleScroll)\n  }, [])\n  \n  // Idle timer - mascot falls asleep after 30 seconds\n  useEffect(() => {\n    const timer = setInterval(() => {\n      setIdleTime(prev => prev + 1)\n    }, 1000)\n    \n    return () => clearInterval(timer)\n  }, [])\n  \n  useEffect(() => {\n    if (idleTime > 30) {\n      setState(MASCOT_STATES.SLEEPING)\n    } else if (idleTime > 15) {\n      setState(MASCOT_STATES.IDLE)\n    }\n  }, [idleTime])\n  \n  // Wake up on user interaction\n  useEffect(() => {\n    const handleInteraction = () => {\n      setIdleTime(0)\n      setState(MASCOT_STATES.WAVING)\n      setTimeout(() => setState(MASCOT_STATES.IDLE), 2000)\n    }\n    \n    window.addEventListener('mousemove', handleInteraction, { passive: true })\n    window.addEventListener('touchstart', handleInteraction, { passive: true })\n    \n    return () => {\n      window.removeEventListener('mousemove', handleInteraction)\n      window.removeEventListener('touchstart', handleInteraction)\n    }\n  }, [])\n  \n  // Don't show on mobile or if reduced motion preferred\n  if (!isDesktop || prefersReducedMotion) {\n    return null\n  }\n  \n  // Mascot expressions based on state\n  const getExpression = () => {\n    switch (state) {\n      case MASCOT_STATES.SLEEPING:\n        return { eyes: '- -', mouth: '~' }\n      case MASCOT_STATES.WAVING:\n        return { eyes: '^ ^', mouth: 'D' }\n      case MASCOT_STATES.EXCITED:\n        return { eyes: 'â˜… â˜…', mouth: 'O' }\n      case MASCOT_STATES.WORKING:\n        return { eyes: 'â€¢ â€¢', mouth: 'o' }\n      default:\n        return { eyes: 'â€¢ â€¢', mouth: 'â€¿' }\n    }\n  }\n  \n  const expression = getExpression()\n  \n  return (\n    <AnimatePresence>\n      {isVisible && (\n        <motion.div\n          initial={{ x: 100, opacity: 0 }}\n          animate={{ x: 0, opacity: 1 }}\n          exit={{ x: 100, opacity: 0 }}\n          transition={{ type: 'spring', damping: 20 }}\n          className=\"fixed bottom-28 right-4 z-40\"\n        >\n          {/* Minimized state */}\n          {isMinimized ? (\n            <motion.button\n              onClick={() => setIsMinimized(false)}\n              className=\"w-12 h-12 bg-ignition-600 rounded-full flex items-center justify-center shadow-lg hover:scale-110 transition-transform\"\n              whileHover={{ scale: 1.1 }}\n              whileTap={{ scale: 0.9 }}\n              aria-label=\"Show mascot\"\n            >\n              <GiSpanner className=\"w-6 h-6 text-white\" />\n            </motion.button>\n          ) : (\n            <div className=\"relative\">\n              {/* Speech bubble */}\n              <AnimatePresence mode=\"wait\">\n                {speech && state !== MASCOT_STATES.SLEEPING && (\n                  <motion.div\n                    key={speech}\n                    initial={{ opacity: 0, y: 10, scale: 0.8 }}\n                    animate={{ opacity: 1, y: 0, scale: 1 }}\n                    exit={{ opacity: 0, y: -10, scale: 0.8 }}\n                    className=\"absolute -top-16 right-0 bg-white text-forge-900 px-4 py-2 rounded-xl shadow-lg text-sm font-semibold whitespace-nowrap\"\n                  >\n                    {speech}\n                    <div className=\"absolute -bottom-2 right-6 w-4 h-4 bg-white rotate-45\" />\n                  </motion.div>\n                )}\n              </AnimatePresence>\n              \n              {/* ZZZ for sleeping */}\n              {state === MASCOT_STATES.SLEEPING && (\n                <motion.div\n                  className=\"absolute -top-8 right-0 text-2xl\"\n                  animate={{ y: [-2, 2, -2], opacity: [0.5, 1, 0.5] }}\n                  transition={{ duration: 2, repeat: Infinity }}\n                >\n                  ðŸ’¤\n                </motion.div>\n              )}\n              \n              {/* Mascot body */}\n              <motion.div\n                className=\"relative cursor-pointer\"\n                onClick={() => {\n                  setState(MASCOT_STATES.EXCITED)\n                  setIdleTime(0)\n                  setTimeout(() => setState(MASCOT_STATES.IDLE), 2000)\n                }}\n                whileHover={{ scale: 1.05 }}\n                whileTap={{ scale: 0.95 }}\n              >\n                {/* Main body */}\n                <motion.div\n                  className=\"w-20 h-24 bg-gradient-to-b from-ignition-500 to-ignition-600 rounded-t-3xl rounded-b-xl relative shadow-lg overflow-hidden\"\n                  animate={\n                    state === MASCOT_STATES.WORKING \n                      ? { rotate: [-2, 2, -2] } \n                      : state === MASCOT_STATES.SLEEPING\n                      ? { y: [0, 2, 0] }\n                      : {}\n                  }\n                  transition={{ duration: 0.5, repeat: Infinity }}\n                >\n                  {/* Hard hat */}\n                  <div className=\"absolute -top-3 left-1/2 -translate-x-1/2 w-16 h-8 bg-warning rounded-t-full\">\n                    <div className=\"absolute bottom-0 left-0 right-0 h-2 bg-warning/80\" />\n                  </div>\n                  \n                  {/* Face */}\n                  <div className=\"mt-8 text-center\">\n                    {/* Eyes */}\n                    <motion.div \n                      className=\"text-lg font-bold text-white mb-0.5\"\n                      animate={state === MASCOT_STATES.WAVING ? { scaleY: [1, 0.3, 1] } : {}}\n                      transition={{ duration: 0.3, repeat: state === MASCOT_STATES.WAVING ? 2 : 0 }}\n                    >\n                      {expression.eyes}\n                    </motion.div>\n                    {/* Mouth */}\n                    <div className=\"text-lg font-bold text-white\">\n                      {expression.mouth}\n                    </div>\n                  </div>\n                  \n                  {/* Overalls */}\n                  <div className=\"absolute bottom-0 left-0 right-0 h-10 bg-blue-600\">\n                    <div className=\"absolute top-1 left-1/2 -translate-x-1/2 w-2 h-2 bg-steel-300 rounded-full\" />\n                    <div className=\"absolute top-4 left-2 w-6 h-5 bg-blue-700 rounded-sm\" />\n                    <div className=\"absolute top-4 right-2 w-6 h-5 bg-blue-700 rounded-sm\" />\n                  </div>\n                  \n                  {/* Tool in pocket */}\n                  <div className=\"absolute bottom-2 left-3\">\n                    <GiSpanner className=\"w-3 h-3 text-steel-300 rotate-45\" />\n                  </div>\n                </motion.div>\n                \n                {/* Arm waving */}\n                {state === MASCOT_STATES.WAVING && (\n                  <motion.div\n                    className=\"absolute -right-4 top-10 w-4 h-10 bg-ignition-500 rounded-full origin-top\"\n                    animate={{ rotate: [0, 30, -10, 30, 0] }}\n                    transition={{ duration: 0.8, repeat: Infinity }}\n                  >\n                    {/* Hand */}\n                    <div className=\"absolute -bottom-2 left-1/2 -translate-x-1/2 w-5 h-5 bg-[#F5D0C5] rounded-full\" />\n                  </motion.div>\n                )}\n                \n                {/* Working arm with wrench */}\n                {state === MASCOT_STATES.WORKING && (\n                  <motion.div\n                    className=\"absolute -left-6 top-12 origin-right\"\n                    animate={{ rotate: [-20, 20, -20] }}\n                    transition={{ duration: 0.5, repeat: Infinity }}\n                  >\n                    <div className=\"w-4 h-8 bg-ignition-500 rounded-full\" />\n                    <GiSpanner className=\"absolute -bottom-2 -left-1 w-5 h-5 text-steel-400 -rotate-45\" />\n                  </motion.div>\n                )}\n              </motion.div>\n              \n              {/* Minimize button */}\n              <button\n                onClick={(e) => {\n                  e.stopPropagation()\n                  setIsMinimized(true)\n                }}\n                className=\"absolute -top-2 -right-2 w-6 h-6 bg-forge-800 rounded-full text-white text-xs hover:bg-forge-700 transition-colors flex items-center justify-center\"\n                aria-label=\"Minimize mascot\"\n              >\n                Ã—\n              </button>\n            </div>\n          )}\n        </motion.div>\n      )}\n    </AnimatePresence>\n  )\n}\n"],"names":["MASCOT_STATES","SPEECH_BUBBLES","MechanicMascot","state","setState","useState","speech","setSpeech","isVisible","isMinimized","setIsMinimized","idleTime","setIdleTime","isDesktop","useMediaQuery","prefersReducedMotion","useReducedMotion","useScroll","useEffect","handleScroll","sections","sectionId","element","timer","prev","handleInteraction","expression","jsx","AnimatePresence","motion","GiSpanner","jsxs","e"],"mappings":"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"}