{"version":3,"file":"WhatsAppButton-BitC8Ztg.js","sources":["../../src/components/WhatsAppButton.jsx"],"sourcesContent":["import { useState, useEffect } from 'react'\nimport { motion, AnimatePresence } from 'framer-motion'\nimport { FaWhatsapp } from 'react-icons/fa6'\nimport { LuX, LuMessageCircle, LuClock, LuSend } from 'react-icons/lu'\nimport { contact, company } from '../data/siteData'\nimport { trackWhatsAppClick } from '../utils/analytics'\n\nconst quickMessages = [\n  { text: 'I need a spare part', icon: 'ðŸ”§' },\n  { text: 'Check part availability', icon: 'ðŸ“¦' },\n  { text: 'Get a price quote', icon: 'ðŸ’°' },\n  { text: 'Vehicle inquiry', icon: 'ðŸš—' },\n]\n\nexport default function WhatsAppButton() {\n  const [isOpen, setIsOpen] = useState(false)\n  const [customMessage, setCustomMessage] = useState('')\n  const [showWidget, setShowWidget] = useState(false)\n\n  // Delay showing the widget for better UX\n  useEffect(() => {\n    const timer = setTimeout(() => setShowWidget(true), 2000)\n    return () => clearTimeout(timer)\n  }, [])\n\n  const handleQuickMessage = (message) => {\n    trackWhatsAppClick('quick_message', message)\n    const encodedMessage = encodeURIComponent(`Hi! ${message}`)\n    window.open(`${contact.whatsappLink}&text=${encodedMessage}`, '_blank')\n    setIsOpen(false)\n  }\n\n  const handleCustomMessage = (e) => {\n    e.preventDefault()\n    if (customMessage.trim()) {\n      trackWhatsAppClick('custom_message', customMessage)\n      const encodedMessage = encodeURIComponent(customMessage)\n      window.open(`${contact.whatsappLink}&text=${encodedMessage}`, '_blank')\n      setCustomMessage('')\n      setIsOpen(false)\n    }\n  }\n\n  if (!showWidget) return null\n\n  return (\n    <div className=\"fixed bottom-28 lg:bottom-6 right-4 lg:right-6 z-40\">\n      {/* Expanded Chat Widget */}\n      <AnimatePresence>\n        {isOpen && (\n          <motion.div\n            initial={{ opacity: 0, y: 20, scale: 0.9 }}\n            animate={{ opacity: 1, y: 0, scale: 1 }}\n            exit={{ opacity: 0, y: 20, scale: 0.9 }}\n            transition={{ type: 'spring', damping: 25, stiffness: 300 }}\n            className=\"absolute bottom-20 right-0 w-80 sm:w-96 bg-forge-900 rounded-2xl shadow-2xl overflow-hidden border border-forge-700\"\n          >\n            {/* Header */}\n            <div className=\"bg-whatsapp px-4 py-3 flex items-center justify-between\">\n              <div className=\"flex items-center gap-3\">\n                <div className=\"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center\">\n                  <FaWhatsapp className=\"w-6 h-6 text-white\" />\n                </div>\n                <div>\n                  <h3 className=\"font-display text-white text-sm\">{company.name}</h3>\n                  <div className=\"flex items-center gap-1 text-white/80 text-xs\">\n                    <span className=\"w-2 h-2 bg-green-300 rounded-full animate-pulse\" />\n                    <span>Typically replies instantly</span>\n                  </div>\n                </div>\n              </div>\n              <button\n                onClick={() => setIsOpen(false)}\n                className=\"text-white/80 hover:text-white transition-colors\"\n                aria-label=\"Close chat\"\n              >\n                <LuX className=\"w-5 h-5\" />\n              </button>\n            </div>\n\n            {/* Chat Body */}\n            <div className=\"p-4 bg-forge-950\">\n              {/* Welcome Message */}\n              <div className=\"bg-forge-800 rounded-lg rounded-tl-none p-3 mb-4\">\n                <p className=\"text-steel-300 text-sm\">\n                  ðŸ‘‹ Hi there! How can we help you today? Select a quick option or type your message below.\n                </p>\n                <div className=\"flex items-center gap-1 mt-2 text-steel-500 text-xs\">\n                  <LuClock className=\"w-3 h-3\" />\n                  <span>Average response: &lt; 5 minutes</span>\n                </div>\n              </div>\n\n              {/* Quick Messages */}\n              <div className=\"grid grid-cols-2 gap-2 mb-4\">\n                {quickMessages.map((item, index) => (\n                  <motion.button\n                    key={index}\n                    onClick={() => handleQuickMessage(item.text)}\n                    className=\"bg-forge-800 hover:bg-forge-700 border border-forge-600 rounded-lg p-3 text-left transition-colors group\"\n                    whileHover={{ scale: 1.02 }}\n                    whileTap={{ scale: 0.98 }}\n                  >\n                    <span className=\"text-lg mb-1 block\">{item.icon}</span>\n                    <span className=\"text-steel-300 text-xs font-tech group-hover:text-ignition-400 transition-colors\">\n                      {item.text}\n                    </span>\n                  </motion.button>\n                ))}\n              </div>\n\n              {/* Custom Message Input */}\n              <form onSubmit={handleCustomMessage} className=\"flex gap-2\">\n                <input\n                  type=\"text\"\n                  value={customMessage}\n                  onChange={(e) => setCustomMessage(e.target.value)}\n                  placeholder=\"Type your message...\"\n                  className=\"flex-1 bg-forge-800 border border-forge-600 rounded-lg px-3 py-2 text-sm text-steel-200 placeholder-steel-500 focus:outline-none focus:border-ignition-500 transition-colors\"\n                />\n                <motion.button\n                  type=\"submit\"\n                  whileHover={{ scale: 1.05 }}\n                  whileTap={{ scale: 0.95 }}\n                  className=\"bg-whatsapp text-white p-2 rounded-lg hover:bg-whatsapp/90 transition-colors\"\n                  aria-label=\"Send message\"\n                >\n                  <LuSend className=\"w-5 h-5\" />\n                </motion.button>\n              </form>\n            </div>\n\n            {/* Footer */}\n            <div className=\"px-4 py-2 bg-forge-900 border-t border-forge-700\">\n              <p className=\"text-steel-500 text-xs text-center\">\n                Powered by WhatsApp Business\n              </p>\n            </div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n\n      {/* Main Button */}\n      <motion.button\n        onClick={() => setIsOpen(!isOpen)}\n        className=\"relative w-14 h-14 lg:w-16 lg:h-16 bg-whatsapp rounded-full flex items-center justify-center text-white shadow-whatsapp-glow\"\n        whileHover={{ scale: 1.1 }}\n        whileTap={{ scale: 0.9 }}\n        initial={{ scale: 0, opacity: 0 }}\n        animate={{ \n          scale: 1, \n          opacity: 1,\n        }}\n        transition={{ \n          type: 'spring',\n          stiffness: 260,\n          damping: 20,\n        }}\n        aria-label={isOpen ? 'Close WhatsApp chat' : 'Open WhatsApp chat'}\n      >\n        <AnimatePresence mode=\"wait\">\n          {isOpen ? (\n            <motion.div\n              key=\"close\"\n              initial={{ rotate: -90, opacity: 0 }}\n              animate={{ rotate: 0, opacity: 1 }}\n              exit={{ rotate: 90, opacity: 0 }}\n              transition={{ duration: 0.2 }}\n            >\n              <LuX className=\"w-7 h-7 lg:w-8 lg:h-8\" />\n            </motion.div>\n          ) : (\n            <motion.div\n              key=\"whatsapp\"\n              initial={{ rotate: 90, opacity: 0 }}\n              animate={{ rotate: 0, opacity: 1 }}\n              exit={{ rotate: -90, opacity: 0 }}\n              transition={{ duration: 0.2 }}\n            >\n              <FaWhatsapp className=\"w-7 h-7 lg:w-8 lg:h-8\" />\n            </motion.div>\n          )}\n        </AnimatePresence>\n        \n        {/* Pulse ring - only when closed */}\n        {!isOpen && (\n          <motion.div\n            className=\"absolute inset-0 rounded-full border-2 border-whatsapp\"\n            animate={{\n              scale: [1, 1.4, 1.4],\n              opacity: [0.5, 0, 0],\n            }}\n            transition={{\n              duration: 2,\n              repeat: Infinity,\n              ease: 'easeOut',\n            }}\n          />\n        )}\n\n        {/* Notification badge */}\n        {!isOpen && (\n          <motion.div\n            initial={{ scale: 0 }}\n            animate={{ scale: 1 }}\n            className=\"absolute -top-1 -right-1 w-5 h-5 bg-ignition-500 rounded-full flex items-center justify-center\"\n          >\n            <LuMessageCircle className=\"w-3 h-3 text-white\" />\n          </motion.div>\n        )}\n      </motion.button>\n    </div>\n  )\n}\n"],"names":["quickMessages","WhatsAppButton","isOpen","setIsOpen","useState","customMessage","setCustomMessage","showWidget","setShowWidget","useEffect","timer","handleQuickMessage","message","trackWhatsAppClick","encodedMessage","contact","handleCustomMessage","e","jsxs","jsx","AnimatePresence","motion","FaWhatsapp","company","LuX","LuClock","item","index","LuSend","LuMessageCircle"],"mappings":"gUAOA,MAAMA,EAAgB,CACpB,CAAE,KAAM,sBAAuB,KAAM,IAAA,EACrC,CAAE,KAAM,0BAA2B,KAAM,IAAA,EACzC,CAAE,KAAM,oBAAqB,KAAM,IAAA,EACnC,CAAE,KAAM,kBAAmB,KAAM,IAAA,CACnC,EAEA,SAAwBC,GAAiB,CACvC,KAAM,CAACC,EAAQC,CAAS,EAAIC,EAAAA,SAAS,EAAK,EACpC,CAACC,EAAeC,CAAgB,EAAIF,EAAAA,SAAS,EAAE,EAC/C,CAACG,EAAYC,CAAa,EAAIJ,EAAAA,SAAS,EAAK,EAGlDK,EAAAA,UAAU,IAAM,CACd,MAAMC,EAAQ,WAAW,IAAMF,EAAc,EAAI,EAAG,GAAI,EACxD,MAAO,IAAM,aAAaE,CAAK,CACjC,EAAG,CAAA,CAAE,EAEL,MAAMC,EAAsBC,GAAY,CACtCC,EAAmB,gBAAiBD,CAAO,EAC3C,MAAME,EAAiB,mBAAmB,OAAOF,CAAO,EAAE,EAC1D,OAAO,KAAK,GAAGG,EAAQ,YAAY,SAASD,CAAc,GAAI,QAAQ,EACtEX,EAAU,EAAK,CACjB,EAEMa,EAAuBC,GAAM,CAEjC,GADAA,EAAE,eAAA,EACEZ,EAAc,OAAQ,CACxBQ,EAAmB,iBAAkBR,CAAa,EAClD,MAAMS,EAAiB,mBAAmBT,CAAa,EACvD,OAAO,KAAK,GAAGU,EAAQ,YAAY,SAASD,CAAc,GAAI,QAAQ,EACtER,EAAiB,EAAE,EACnBH,EAAU,EAAK,CACjB,CACF,EAEA,OAAKI,EAGHW,EAAAA,KAAC,MAAA,CAAI,UAAU,sDAEb,SAAA,CAAAC,EAAAA,IAACC,GACE,SAAAlB,GACCgB,EAAAA,KAACG,EAAO,IAAP,CACC,QAAS,CAAE,QAAS,EAAG,EAAG,GAAI,MAAO,EAAA,EACrC,QAAS,CAAE,QAAS,EAAG,EAAG,EAAG,MAAO,CAAA,EACpC,KAAM,CAAE,QAAS,EAAG,EAAG,GAAI,MAAO,EAAA,EAClC,WAAY,CAAE,KAAM,SAAU,QAAS,GAAI,UAAW,GAAA,EACtD,UAAU,sHAGV,SAAA,CAAAH,EAAAA,KAAC,MAAA,CAAI,UAAU,0DACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAC,EAAAA,IAAC,OAAI,UAAU,sEACb,eAACG,EAAA,CAAW,UAAU,qBAAqB,CAAA,CAC7C,SACC,MAAA,CACC,SAAA,CAAAH,EAAAA,IAAC,KAAA,CAAG,UAAU,kCAAmC,SAAAI,EAAQ,KAAK,EAC9DL,EAAAA,KAAC,MAAA,CAAI,UAAU,gDACb,SAAA,CAAAC,EAAAA,IAAC,OAAA,CAAK,UAAU,iDAAA,CAAkD,EAClEA,EAAAA,IAAC,QAAK,SAAA,6BAAA,CAA2B,CAAA,CAAA,CACnC,CAAA,CAAA,CACF,CAAA,EACF,EACAA,EAAAA,IAAC,SAAA,CACC,QAAS,IAAMhB,EAAU,EAAK,EAC9B,UAAU,mDACV,aAAW,aAEX,SAAAgB,EAAAA,IAACK,EAAA,CAAI,UAAU,SAAA,CAAU,CAAA,CAAA,CAC3B,EACF,EAGAN,EAAAA,KAAC,MAAA,CAAI,UAAU,mBAEb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,mDACb,SAAA,CAAAC,EAAAA,IAAC,IAAA,CAAE,UAAU,yBAAyB,SAAA,4FAEtC,EACAD,EAAAA,KAAC,MAAA,CAAI,UAAU,sDACb,SAAA,CAAAC,EAAAA,IAACM,EAAA,CAAQ,UAAU,SAAA,CAAU,EAC7BN,EAAAA,IAAC,QAAK,SAAA,+BAAA,CAAgC,CAAA,CAAA,CACxC,CAAA,EACF,EAGAA,EAAAA,IAAC,OAAI,UAAU,8BACZ,WAAc,IAAI,CAACO,EAAMC,IACxBT,EAAAA,KAACG,EAAO,OAAP,CAEC,QAAS,IAAMV,EAAmBe,EAAK,IAAI,EAC3C,UAAU,2GACV,WAAY,CAAE,MAAO,IAAA,EACrB,SAAU,CAAE,MAAO,GAAA,EAEnB,SAAA,CAAAP,EAAAA,IAAC,OAAA,CAAK,UAAU,qBAAsB,SAAAO,EAAK,KAAK,EAChDP,EAAAA,IAAC,OAAA,CAAK,UAAU,mFACb,WAAK,IAAA,CACR,CAAA,CAAA,EATKQ,CAAA,CAWR,EACH,EAGAT,EAAAA,KAAC,OAAA,CAAK,SAAUF,EAAqB,UAAU,aAC7C,SAAA,CAAAG,EAAAA,IAAC,QAAA,CACC,KAAK,OACL,MAAOd,EACP,SAAWY,GAAMX,EAAiBW,EAAE,OAAO,KAAK,EAChD,YAAY,uBACZ,UAAU,8KAAA,CAAA,EAEZE,EAAAA,IAACE,EAAO,OAAP,CACC,KAAK,SACL,WAAY,CAAE,MAAO,IAAA,EACrB,SAAU,CAAE,MAAO,GAAA,EACnB,UAAU,+EACV,aAAW,eAEX,SAAAF,EAAAA,IAACS,EAAA,CAAO,UAAU,SAAA,CAAU,CAAA,CAAA,CAC9B,CAAA,CACF,CAAA,EACF,EAGAT,EAAAA,IAAC,OAAI,UAAU,mDACb,eAAC,IAAA,CAAE,UAAU,qCAAqC,SAAA,8BAAA,CAElD,CAAA,CACF,CAAA,CAAA,CAAA,EAGN,EAGAD,EAAAA,KAACG,EAAO,OAAP,CACC,QAAS,IAAMlB,EAAU,CAACD,CAAM,EAChC,UAAU,+HACV,WAAY,CAAE,MAAO,GAAA,EACrB,SAAU,CAAE,MAAO,EAAA,EACnB,QAAS,CAAE,MAAO,EAAG,QAAS,CAAA,EAC9B,QAAS,CACP,MAAO,EACP,QAAS,CAAA,EAEX,WAAY,CACV,KAAM,SACN,UAAW,IACX,QAAS,EAAA,EAEX,aAAYA,EAAS,sBAAwB,qBAE7C,SAAA,CAAAiB,EAAAA,IAACC,EAAA,CAAgB,KAAK,OACnB,SAAAlB,EACCiB,EAAAA,IAACE,EAAO,IAAP,CAEC,QAAS,CAAE,OAAQ,IAAK,QAAS,CAAA,EACjC,QAAS,CAAE,OAAQ,EAAG,QAAS,CAAA,EAC/B,KAAM,CAAE,OAAQ,GAAI,QAAS,CAAA,EAC7B,WAAY,CAAE,SAAU,EAAA,EAExB,SAAAF,EAAAA,IAACK,EAAA,CAAI,UAAU,uBAAA,CAAwB,CAAA,EANnC,OAAA,EASNL,EAAAA,IAACE,EAAO,IAAP,CAEC,QAAS,CAAE,OAAQ,GAAI,QAAS,CAAA,EAChC,QAAS,CAAE,OAAQ,EAAG,QAAS,CAAA,EAC/B,KAAM,CAAE,OAAQ,IAAK,QAAS,CAAA,EAC9B,WAAY,CAAE,SAAU,EAAA,EAExB,SAAAF,EAAAA,IAACG,EAAA,CAAW,UAAU,uBAAA,CAAwB,CAAA,EAN1C,UAAA,EASV,EAGC,CAACpB,GACAiB,EAAAA,IAACE,EAAO,IAAP,CACC,UAAU,yDACV,QAAS,CACP,MAAO,CAAC,EAAG,IAAK,GAAG,EACnB,QAAS,CAAC,GAAK,EAAG,CAAC,CAAA,EAErB,WAAY,CACV,SAAU,EACV,OAAQ,IACR,KAAM,SAAA,CACR,CAAA,EAKH,CAACnB,GACAiB,EAAAA,IAACE,EAAO,IAAP,CACC,QAAS,CAAE,MAAO,CAAA,EAClB,QAAS,CAAE,MAAO,CAAA,EAClB,UAAU,iGAEV,SAAAF,EAAAA,IAACU,EAAA,CAAgB,UAAU,oBAAA,CAAqB,CAAA,CAAA,CAClD,CAAA,CAAA,CAEJ,EACF,EAxKsB,IA0K1B"}